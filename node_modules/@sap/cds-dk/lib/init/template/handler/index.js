const { readProject } = require('../../projectReader')
const mvn = require('../../mvn')


module.exports = class Handler extends require('../../plugin') {

  static help() {
    return 'add handler stubs' 
  }

  canRun() {
    const { isJava } = readProject()
    if (!isJava) {
      throw `No Java project detected. 'cds add handler' is currently only supported for Java projects.\n`
    }
    return true
  }

  async run() {
    await mvn.generate('handler')
  }
}
